<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>tech.v3.io documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">tech.io</span> <span class="project-version">4.09</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tech</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>v3</span></div></div></li><li class="depth-3 current"><a href="tech.v3.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.io.temp-file.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>temp-file</span></div></a></li><li class="depth-4"><a href="tech.v3.io.url.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>url</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="tech.v3.io.html#var-autodetect-csv-separator"><div class="inner"><span>autodetect-csv-separator</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-buffered-input-stream"><div class="inner"><span>buffered-input-stream</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-copy"><div class="inner"><span>copy</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-csv-.3Emapseq"><div class="inner"><span>csv-&gt;mapseq</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-default-csv-key-printer"><div class="inner"><span>default-csv-key-printer</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-delete.21"><div class="inner"><span>delete!</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-exists.3F"><div class="inner"><span>exists?</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-file"><div class="inner"><span>file</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-get-edn"><div class="inner"><span>get-edn</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-get-image"><div class="inner"><span>get-image</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-get-json"><div class="inner"><span>get-json</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-get-nippy"><div class="inner"><span>get-nippy</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-get-object"><div class="inner"><span>get-object</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-gzip-input-stream"><div class="inner"><span>gzip-input-stream</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-gzip-output-stream.21"><div class="inner"><span>gzip-output-stream!</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-input-stream"><div class="inner"><span>input-stream</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-interlocked-copy-to-file"><div class="inner"><span>interlocked-copy-to-file</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-ls"><div class="inner"><span>ls</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-make-parents"><div class="inner"><span>make-parents</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-mapseq-.3Ecsv.21"><div class="inner"><span>mapseq-&gt;csv!</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-metadata"><div class="inner"><span>metadata</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-output-stream.21"><div class="inner"><span>output-stream!</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-put-edn.21"><div class="inner"><span>put-edn!</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-put-image.21"><div class="inner"><span>put-image!</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-put-json.21"><div class="inner"><span>put-json!</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-put-nippy.21"><div class="inner"><span>put-nippy!</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-put-object.21"><div class="inner"><span>put-object!</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-reader"><div class="inner"><span>reader</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-resource"><div class="inner"><span>resource</span></div></a></li><li class="depth-1"><a href="tech.v3.io.html#var-writer.21"><div class="inner"><span>writer!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">tech.v3.io</h1><div class="doc"><div class="markdown"><p>Wrapper for tech io subsystem designed to be drop in replacement for some use cases of clojure.java.io.</p></div></div><div class="public anchor" id="var-autodetect-csv-separator"><h3>autodetect-csv-separator</h3><div class="usage"><code>(autodetect-csv-separator url &amp; options)</code></div><div class="doc"><div class="markdown"><p>Scan first 100 characters, count commas and tabs. Whichever one wins is the separator.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L350">view source</a></div></div><div class="public anchor" id="var-buffered-input-stream"><h3>buffered-input-stream</h3><div class="usage"><code>(buffered-input-stream url &amp; options)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L79">view source</a></div></div><div class="public anchor" id="var-copy"><h3>copy</h3><div class="usage"><code>(copy src dest &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L132">view source</a></div></div><div class="public anchor" id="var-csv-.3Emapseq"><h3>csv-&gt;mapseq</h3><div class="usage"><code>(csv-&gt;mapseq url &amp; options)</code></div><div class="doc"><div class="markdown"><p>Given a csv, produce a sequence of maps. This is mainly to be used for specific use cases like processing the data. For large datasets that you intend to do pandas-style dataset processing, please see tech.ml.dataset. If the input is not a reader, the sequence is completely read so the input stream can be closed. If the input is a reader, a lazy sequence of maps is returned.</p>
<p>The delimiter is auto-detected by scanning the first 100 or so characters. :separator - hard set csv separator to use. :skip-autodetect - Don’t autodetect, use ‘,’ as separator.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L381">view source</a></div></div><div class="public anchor" id="var-default-csv-key-printer"><h3>default-csv-key-printer</h3><div class="usage"><code>(default-csv-key-printer item-key)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L298">view source</a></div></div><div class="public anchor" id="var-delete.21"><h3>delete!</h3><div class="usage"><code>(delete! url &amp; options)</code></div><div class="doc"><div class="markdown"><p>Delete a resource. Works currently with file or s3.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L150">view source</a></div></div><div class="public anchor" id="var-exists.3F"><h3>exists?</h3><div class="usage"><code>(exists? url &amp; options)</code></div><div class="doc"><div class="markdown"><p>Boolean existence check. Works with everything as fallback is to open an input stream and then close it.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L160">view source</a></div></div><div class="public anchor" id="var-file"><h3>file</h3><div class="usage"><code>(file path-or-url)</code></div><div class="doc"><div class="markdown"><p>Wrapper around </p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L53">view source</a></div></div><div class="public anchor" id="var-get-edn"><h3>get-edn</h3><div class="usage"><code>(get-edn url &amp; options)</code></div><div class="doc"><div class="markdown"><p>Get edn data from a url</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L236">view source</a></div></div><div class="public anchor" id="var-get-image"><h3>get-image</h3><div class="usage"><code>(get-image url &amp; options)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L274">view source</a></div></div><div class="public anchor" id="var-get-json"><h3>get-json</h3><div class="usage"><code>(get-json url &amp; options)</code></div><div class="doc"><div class="markdown"><p>Read json. Options are used both for constructing input stream and passed into the json read method. See documentation for clojure.data.json/read</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L289">view source</a></div></div><div class="public anchor" id="var-get-nippy"><h3>get-nippy</h3><div class="usage"><code>(get-nippy url &amp; options)</code></div><div class="doc"><div class="markdown"><p>Get nippy data from a url</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L250">view source</a></div></div><div class="public anchor" id="var-get-object"><h3>get-object</h3><div class="usage"><code>(get-object url &amp; options)</code></div><div class="doc"><div class="markdown"><p>Get object always returns something convertible to an input-stream. It may return a file for instance.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L212">view source</a></div></div><div class="public anchor" id="var-gzip-input-stream"><h3>gzip-input-stream</h3><div class="usage"><code>(gzip-input-stream url &amp; options)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L87">view source</a></div></div><div class="public anchor" id="var-gzip-output-stream.21"><h3>gzip-output-stream!</h3><div class="usage"><code>(gzip-output-stream! url &amp; options)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L103">view source</a></div></div><div class="public anchor" id="var-input-stream"><h3>input-stream</h3><div class="usage"><code>(input-stream url &amp; options)</code></div><div class="doc"><div class="markdown"><p>thing-&gt;input-stream conversion. Falls back to clojure.java.io if url is not a string url</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L70">view source</a></div></div><div class="public anchor" id="var-interlocked-copy-to-file"><h3>interlocked-copy-to-file</h3><div class="usage"><code>(interlocked-copy-to-file src dest &amp; options)</code></div><div class="doc"><div class="markdown"><p>Copy first to a temp, then do an atomic move to the destination. This avoids issues with partial files showing up where they shouldn’t and a failed io operation leading to incomplete results.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L171">view source</a></div></div><div class="public anchor" id="var-ls"><h3>ls</h3><div class="usage"><code>(ls url &amp; options)</code></div><div class="doc"><div class="markdown"><p>Return a directory listing. May be recursive if desired; only works with file or s3 providers.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L139">view source</a></div></div><div class="public anchor" id="var-make-parents"><h3>make-parents</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L49">view source</a></div></div><div class="public anchor" id="var-mapseq-.3Ecsv.21"><h3>mapseq-&gt;csv!</h3><div class="usage"><code>(mapseq-&gt;csv! url map-seq &amp; options)</code></div><div class="doc"><div class="markdown"><p>Given a sequence of maps, produce a csv or tsv. Options are passed via apply to clojure.data.csv/write-csv. Valid options for this method are: :key-printer - default print method to use else default-csv-key-printer :key-seq - ordered sequence of keys to pull out of the maps. Defaults  to sorted order of printed keys of the first map. :separator - Which separator to use, defaults to ‘,’</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L306">view source</a></div></div><div class="public anchor" id="var-metadata"><h3>metadata</h3><div class="usage"><code>(metadata url &amp; options)</code></div><div class="doc"><div class="markdown"><p>If supported, returns at least :modify-date and :byte-length. Exception otherwise.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L202">view source</a></div></div><div class="public anchor" id="var-output-stream.21"><h3>output-stream!</h3><div class="usage"><code>(output-stream! url &amp; options)</code></div><div class="doc"><div class="markdown"><p>thing-&gt;output-stream conversion. Falls back to clojure.java.io if url is not a string url.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L93">view source</a></div></div><div class="public anchor" id="var-put-edn.21"><h3>put-edn!</h3><div class="usage"><code>(put-edn! url data &amp; options)</code></div><div class="doc"><div class="markdown"><p>Put edn data to a url</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L229">view source</a></div></div><div class="public anchor" id="var-put-image.21"><h3>put-image!</h3><div class="usage"><code>(put-image! url image &amp; options)</code></div><div class="doc"><div class="markdown"><p>Will throw if an image with transparency is used to write a jpeg</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L257">view source</a></div></div><div class="public anchor" id="var-put-json.21"><h3>put-json!</h3><div class="usage"><code>(put-json! url data &amp; options)</code></div><div class="doc"><div class="markdown"><p>Write json. Options are used both for constructing the output stream and passed into the json write method. See documentation for clojure.data.json/write.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L280">view source</a></div></div><div class="public anchor" id="var-put-nippy.21"><h3>put-nippy!</h3><div class="usage"><code>(put-nippy! url data &amp; options)</code></div><div class="doc"><div class="markdown"><p>Put nippy data to a url</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L243">view source</a></div></div><div class="public anchor" id="var-put-object.21"><h3>put-object!</h3><div class="usage"><code>(put-object! url value &amp; options)</code></div><div class="doc"><div class="markdown"><p>Put object. Object must be a byte-array, a file, or an input-stream. Strings will be interpreted as per the rules of clojure.java.io/input-stream. The most optimizations will apply to either files or byte arrays.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L220">view source</a></div></div><div class="public anchor" id="var-reader"><h3>reader</h3><div class="usage"><code>(reader url &amp; options)</code></div><div class="doc"><div class="markdown"><p>Create a java.io.reader from a thing.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L109">view source</a></div></div><div class="public anchor" id="var-resource"><h3>resource</h3><div class="usage"><code>(resource &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L127">view source</a></div></div><div class="public anchor" id="var-writer.21"><h3>writer!</h3><div class="usage"><code>(writer! url &amp; options)</code></div><div class="doc"><div class="markdown"><p>Create a java.io.writer from a thing.</p></div></div><div class="src-link"><a href="https://github.com/techascent/tech.io/blob/master/src/tech/v3/io.clj#L118">view source</a></div></div></div></body></html>